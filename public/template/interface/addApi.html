<div ng-include="'../template/_include/nav.html'" class="nav-header"></div>
<div class="container" id="apiInfo">
   <form class="ng-pristine ng-valid api-top">

          <div class="form-group">
            <label for="recipient-name" class="control-label">所属项目:</label>
            <select class="form-control" ng-model="newAction.project" ng-change="setPageDate()">
              <option value="">请选择</option>
              <option ng-repeat="project in projectList track by $index" value="{{project._id}}">{{project.name}}</option> 
            </select>
          </div>

          <div class="form-group">
            <label for="recipient-name" class="control-label">所属模块:</label>
            <select class="form-control" ng-model="newAction.pageId">
              <option value="">请选择</option>
              <option ng-repeat="page in pageList track by $index" value="page._id">{{page.name}}</option>
            </select>
          </div>

          <div class="form-group">
            <label for="recipient-name" class="control-label">名称:</label>
            <input type="text" ng-model="newAction.title" class="form-control ng-pristine ng-valid ng-empty ng-touched" id="recipient-name">
          </div>

          <div class="action-info">
        <div class="item clearfix" style="margin-bottom:15px;">
          <label for="recipient-name" class="control-label">产品线:</label>
          <br/>
          <a class="crumb-select-item" title="其它" ng-repeat="pro in currentAction.products">
            <!-- <b>画幅：</b> -->
            <em>{{pro.name}}</em>
            <i  ng-click="rmProduct(pro._id)"></i>
          </a>
          <div class="btn-group" >
            <div class="btn-group" >
              <button type="button" class="btn btn-xs btn-default dropdown-toggle" data-toggle="dropdown">
                              {{productVersions.name}}
                              <span class="caret"></span>
                          </button>
              <ul class="dropdown-menu" role="menu">
                <li ng-repeat="product in productList" ng-class="{true: 'dropdown-submenu', false: ''}[product.productVersions.length >0]">
                  <a href="javascript:;">{{product.name}}</a>
                  <ul class="dropdown-menu" ng-if="product.productVersions.length >0">
                    <li ng-repeat="v in product.productVersions" ng-class="{true: 'disabled', false: ''}[v.exist]"> <a ng-disabled="v.exist" ng-click="productChange(v)">{{v.name}}</a></li>
                  </ul>
                </li>
              </ul>
            </div>
            <button type="button" class="btn btn-xs btn-default" ng-click="addProduct(productVersions)">添加{{version.productVersions[0].name}}</button>
          </div>
        </div>

        <div class="item clearfix" style="margin-bottom:15px;">
          <label for="recipient-name" class="control-label">标签:</label>
          <br/>
          <a class="crumb-select-item" title="其它" ng-repeat="pro in currentAction.tags">
            <!-- <b>画幅：</b> -->
            <em>{{pro.name}}</em>
            <i ng-click="rmTag(pro._id)"></i>
          </a>
          <div class="btn-group">
            <div class="btn-group">
              <button type="button" class="btn btn-xs btn-default dropdown-toggle" data-toggle="dropdown">
                              {{tag.name}}
                              <span class="caret"></span>
                          </button>
              <ul class="dropdown-menu" role="menu">
                <li ng-repeat="tag in tagList" ng-class="{true: 'disabled', false: ''}[tag.isExist]">
                  <a ng-disabled="tag.isExist"  ng-click="tagChange(tag)" href="javascript:;">{{tag.name}}</a>
                </li>
              </ul>
            </div>
            <button type="button" class="btn btn-xs btn-default" ng-class="{true: 'disabled', false: ''}[tag.isExist]"  ng-click="addTag(tag)">添加</button>
          </div>
        </div>
      </div>
          <div class="form-group">
          
            <label for="recipient-name" class="control-label">请求类型:</label>
            <div class="radio-list clearfix" id="recipient-name">
              <input type="radio" id="editAFloater-type-1" name="editAFloater-type" ng-model="newAction.method" value="get" ng-checked="newAction.method == 'get'" class="ng-pristine ng-untouched ng-valid ng-empty">
              <label for="editAFloater-type-1">GET</label>
              <input type="radio" id="editAFloater-type-2" name="editAFloater-type" ng-model="newAction.method" value="post" ng-checked="newAction.method == 'post'" class="ng-pristine ng-untouched ng-valid ng-empty">
              <label for="editAFloater-type-2">POST</label>
              <input type="radio" id="editAFloater-type-3" name="editAFloater-type" ng-model="newAction.method" value="put" ng-checked="newAction.method == 'put'" class="ng-pristine ng-untouched ng-valid ng-empty">
              <label for="editAFloater-type-3">PUT</label>
              <input type="radio" id="editAFloater-type-4" name="editAFloater-type" ng-model="newAction.method" value="delete" ng-checked="newAction.method == 'delete'" class="ng-pristine ng-untouched ng-valid ng-empty">
              <label for="editAFloater-type-4">DELETE</label>
            </div>
          </div>
          <div class="form-group" ng-init="newAction.protocol = 'https'">
            <label for="recipient-name" class="control-label">网络协议类型:</label>
            <div class="radio-list clearfix" id="recipient-name">
              <input type="radio" id="protocol-type-1" name="protocol-type" ng-model="newAction.protocol" value="http" ng-checked="newAction.protocol == 'http'" class="ng-pristine ng-untouched ng-valid ng-empty">
              <label for="protocol-type-1">HTTP</label>
              <input type="radio" id="protocol-type-2" name="protocol-type" ng-model="newAction.protocol" value="https" ng-checked="newAction.protocol == 'https'" class="ng-pristine ng-untouched ng-valid ng-empty">
              <label for="protocol-type-2">HTTPS</label>
            </div>
          </div>
          <div class="form-group">
            <label for="recipient-name" class="control-label">请求链接:</label>
            <input type="text" ng-model="newAction.url" class="form-control ng-pristine ng-untouched ng-valid ng-empty" id="recipient-name">
          </div>
          <div class="form-group">
            <label for="message-text" class="control-label">说明:</label>
            <textarea class="form-control ng-pristine ng-untouched ng-valid ng-empty" ng-model="newAction.description" id="message-text"></textarea>
          </div>

          <div class="form-group">
        <button type="submit" class="btn btn-primary">下一步</button>
      </div>
          <!--  <div class="form-group">
                        <label for="recipient-name" class="control-label">返回格式:</label>
                        <input type="text" ng-model="newAction.name" class="form-control" id="recipient-name">
                    </div> -->
        </form>
   
</div>
